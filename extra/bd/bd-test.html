<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Video Recommendations</title>
  <link href="https://unpkg.com/cloudinary-video-player/dist/cld-video-player.min.css" rel="stylesheet">
</head>

<body></body>
<h1>Video Player</h1>
<h2>Playlist</h2>
<div id="playlist-data"></div>
<div style="max-width:400px">
  <video id="example-player" controls muted class="cld-video-player cld-video-player-skin-dark"
    data-cld-transformation='{ "width": 400, "crop": "fill"}'>
  </video>
</div>

<!-- video widget -->
<script src="https://unpkg.com/cloudinary-core/cloudinary-core-shrinkwrap.min.js" type="text/javascript">
</script>
<script src="https://unpkg.com/cloudinary-video-player/dist/cld-video-player.min.js" type="text/javascript">
</script>



<!-- instatiate widgets -->
<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {

    var cld = cloudinary.Cloudinary.new({
      cloud_name: 'sep-2020-test',
      secure: true
    })


    var source1 = {
      publicId: 'downhillx',
      info: {
        title: 'downhillx',
        subtitle: 'Something to know about the main movie'
      },
      sourceTypes: ["dash/vp9", "hls/h265", "hls/h264", "mp4"],
      sourceTransformation: {
        "dash/vp9": [
          {
            streaming_profile: "training_hd_vp9"
          }
        ],
        "hls/h265": [
          {
            streaming_profile: "training_hd_h265"
          }
        ],
        "hls/h264": [
          {
            streaming_profile: "training_hd_h264"
          }
        ],
        "mp4": [
          {
            raw_transformation: "q_auto"
          }
        ]
      }
    };

    var source2 = {
      publicId: 'shose00x', info: {
        title: 'shose00x',
        subtitle: 'Something to know about the main movie'
      }, 
      sourceTypes: ["dash/vp9", "hls/h265", "hls/h264", "mp4"],
      sourceTransformation: {
        "dash/vp9": [
          {
            streaming_profile: "training_hd_vp9"
          }
        ],
        "hls/h265": [
          {
            streaming_profile: "training_hd_h265"
          }
        ],
        "hls/h264": [
          {
            streaming_profile: "training_hd_h264"
          }
        ],
        "mp4": [
          {
            raw_transformation: "q_auto"
          }
        ]
      }
    };
    var source3 = {
      publicId: 'hikeupx', info: {
        title: 'hikeupx',
        subtitle: 'Something to know about the main movie'
      }, 
      sourceTypes: ["dash/vp9", "hls/h265", "hls/h264", "mp4"],
      sourceTransformation: {
        "dash/vp9": [
          {
            streaming_profile: "training_hd_vp9"
          }
        ],
        "hls/h265": [
          {
            streaming_profile: "training_hd_h265"
          }
        ],
        "hls/h264": [
          {
            streaming_profile: "training_hd_h264"
          }
        ],
        "mp4": [
          {
            raw_transformation: "q_auto"
          }
        ]
      }
    };


    // Initialize player
    var player = cld.videoPlayer('example-player', {
      playlistWidget: {
        direction: 'vertical',
        total: 3
      }
    })
    player.playlist([source1, source2, source3],
      { autoAdvance: false, repeat: false, presentUpcoming: 5 });



  })
</script>
</body>

</html>